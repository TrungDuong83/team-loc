<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>ADMIN â€“ TEAM Lá»˜C</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body { font-family: Arial; background:#0A2540; color:#fff }
.box { max-width:600px; margin:auto; padding:30px }
input, button { width:100%; padding:12px; margin-top:10px; font-size:16px }
button { background:#FACC15; border:none; font-weight:bold }
table { width:100%; margin-top:20px; border-collapse:collapse }
td, th { border:1px solid #555; padding:6px }
.hidden { display:none }
</style>
</head>

<body>
<div class="box" id="loginBox">
  <h2>ğŸ” ADMIN LOGIN</h2>
  <input id="password" type="password" placeholder="Nháº­p máº­t kháº©u">
  <button onclick="login()">ÄÄ‚NG NHáº¬P</button>
</div>

<div class="box hidden" id="adminBox">
  <h2>ğŸ Cáº¤U HÃŒNH GIáº¢I THÆ¯á»NG</h2>

  <input id="title" placeholder="TÃªn giáº£i (VD: Lá»™c Äá»“ng)">
  <input id="content" placeholder="Ná»™i dung (VD: 100.000/ngÆ°á»i)">
  <input id="weight" type="number" placeholder="Trá»ng sá»‘ (VD: 3)">
  <button id="add">THÃŠM GIáº¢I</button>

  <table>
    <thead><tr><th>TÃªn</th><th>Ná»™i dung</th><th>Weight</th></tr></thead>
    <tbody id="list"></tbody>
  </table>
</div>

<script type="module">
import { db } from "./firebase.js";
import { ref, push, onValue } from
  "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";

const ADMIN_PASS = "YEP2026"; // Ä‘á»•i táº¡i Ä‘Ã¢y

window.login = () => {
  if (password.value === ADMIN_PASS) {
    loginBox.classList.add("hidden");
    adminBox.classList.remove("hidden");
  } else {
    alert("Sai máº­t kháº©u");
  }
};

const rewardRef = ref(db, "config/rewards");
add.onclick = async () => {
  await push(rewardRef, {
    title: title.value,
    content: content.value,
    weight: Number(weight.value || 1)
  });
};

onValue(rewardRef, snap => {
  list.innerHTML = "";
  Object.values(snap.val() || {}).forEach(r => {
    list.innerHTML += `<tr><td>${r.title}</td><td>${r.content}</td><td>${r.weight}</td></tr>`;
  });
});
</script>
</body>
</html>
